# Сервис перевода TON

## Описание

Этот сервис позволяет создавать URL-ссылки для перевода TON, которые при открытии автоматически заполняют форму транзакции и предлагают пользователю подключить кошелек TON для завершения перевода.

## Параметры URL

Сервис поддерживает следующие URL-параметры:

- `address` - адрес кошелька получателя (обязательный)
- `amount` - сумма перевода в TON (обязательный)
- `comment` - комментарий к переводу (опциональный)

## Примеры использования

### Создание ссылки на перевод через веб-интерфейс

1. Откройте главную страницу приложения
2. Заполните форму "Создать ссылку на перевод TON"
3. Нажмите кнопку "Создать ссылку на перевод"
4. Вы будете перенаправлены на страницу с предзаполненной формой перевода

### Создание ссылки на перевод вручную

```
https://ваш-домен.com/transfer?address=EQBInPs62kcCSGDwnCTx0FLzgNpu_t6sTca-mOXInYPBISzT&amount=1.5&comment=Оплата%20услуг
```

## Технические детали

Сервис использует следующие технологии и библиотеки:

- Next.js для серверной и клиентской части
- React для интерфейса
- @tonconnect/ui-react для взаимодействия с кошельками TON
- @ton/ton для формирования сообщений и транзакций

## Формат URL для передачи TON

Сервис поддерживает стандартный формат URL для перевода TON, который соответствует спецификациям TON Foundation:

```
ton://transfer/<address>?amount=<nanocoins>&text=<url-encoded-utf8-text>
```

## ASCII диаграмма потока взаимодействия

```
+-------------+            +----------------+             +----------------+
|             |            |                |             |                |
|  Пользова-  |  --URL-->  |    Сервис      |  --JSON-->  |   Кошелек      |
|  тель       |            |    перевода    |             |   TON          |
|             |  <--HTML-- |                |  <--Auth--  |                |
+-------------+            +----------------+             +----------------+
      |                           |                             |
      |                           |                             |
      |         Заполнение формы  |                             |
      |-------------------------->|                             |
      |                           |                             |
      |                           |     Запрос подключения      |
      |                           |----------------------------->
      |                           |                             |
      |                           |     Ответ (адрес кошелька)  |
      |                           |<-----------------------------|
      |                           |                             |
      |                           |                             |
      |       Подтверждение       |                             |
      |-------------------------->|                             |
      |                           |      Отправка транзакции    |
      |                           |----------------------------->
      |                           |                             |
      |                           |      Результат транзакции   |
      |                           |<-----------------------------|
      |     Результат операции    |                             |
      |<--------------------------|                             |
      |                           |                             |
```

## Безопасность

1. Сервис не хранит приватные ключи пользователей
2. Все взаимодействия с блокчейном происходят через API кошельков TON
3. Подписание транзакций происходит только в кошельке пользователя
4. URL-параметры хранятся только в памяти браузера и не сохраняются на сервере 